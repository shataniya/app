{"version":3,"sources":["components/Common/IpToggle.js","algorithm/dic.js","components/Home.js","components/Common/LazyLoadingImg.js","components/Search/SearchList.js","components/Common/LazyLoad.js","components/Search/Bangumi.js","components/Search.js","components/About/Option.js","components/About/Option1.js","components/About/Option2.js","components/About/Option3.js","components/About/Option4.js","components/About.js","components/ContentUS.js","components/Search/danmu.js","components/Search/Reply.js","components/Search/Comment.js","components/Search/Player.js","components/Search/BangumiInfo.js","components/Search/Swiper.js","components/Search/WatchBangumi.js","components/Search/WatchBangumiSub.js","App.js","serviceWorker.js","index.js","tool.js"],"names":["module","exports","iptoggle","sessdata","fs","require","deep","str","target","__init","i","len","length","createDicByUrl","__url","dicArr","Array","isArray","Error","dic","createDic","readFileSync","toString","split","getText","checkSensitive","arr","cen","push","Object","keys","origin","hasSensitive","sensitive_word","origin_filter","join","replace","repeat","Home","props","state","imgArr","id","src","alt","images","handleError","bind","console","log","this","forEach","el","image","Image","onload","setState","className","onError","autoplay","map","key","data-src","tip","size","React","Component","LazyLoadingImg","loading","handleInitImg","nodeName","BoxClassName","ImgClassName","spinning","SearchList","search_list","handlePaginationChange","handleSearchList","page","search_text","axios","get","then","res","data","filter","result_type","list","href","arcurl","tag","pic","typename","type","theme","handleView","play","duration","author","lists","defaultPageSize","total","onChange","threshold","LazyLoad","io","refs","handleonload","ImgStyle","ref","createRef","style","IntersectionObserver","entries","item","intersectionRatio","dataset","observe","current","width","height","BoxStyle","display","Bangumi","handlEpsTag","handleBangumiTagClick","handleButtonClick","eps","index","pathname","color","marginBottom","to","shape","media_type","media_id","cover","title","season_type_name","handleTitle","styles","areas","handledate","pubtime","cv","desc","Search","history","isloading","handleSearch","handleClick","handleTagClose","handleTagChange","val","saerch_history","localStorage","getItem","from","Set","setItem","searchtext","location","search","qs","parse","event","textContent","e","getparentNode","node","parentNode","value","p","placeholder","marginTop","onSearch","Group","defaultValue","Button","handleType","handlePageReflash","onClick","closable","onClose","Option","Option1","Option2","Option3","Option4","SubMenu","About","openKeys","rootSubmenuKeys","onOpenChange","handleSelect","latestOpenKey","find","indexOf","base_url","go_url","window","pushHistory","children","span","mode","onSelect","Item","exact","path","component","ContentUS","Reply","comment","rep","avatar","uname","message","handlePubdate","ctime","like","Comment","comments","replies","Tracks","DanMu","container","content","time","label","Sign","fontSize","position","whiteSpace","div","__wdith","document","body","clientWidth","count","gap","prototype","create","top","createElement","o","innerHTML","left","append","__self","parseInt","move","speed","timer","setInterval","clearInterval","removeChild","damaku","damakuStyle","Player","icons","name","tags","play_url","handleSwitch","handlePressEnter","handleTimeUpdate","handleCurrentTime","handleVideoClick","aid","video","currentTime","playerbox","Math","abs","isEnter","borderBottom","checked","post","formate","isFLV","flvjs","isSupported","flvPlayer","createPlayer","isLive","url","hasAudio","hasVideo","enableStashBuffer","attachMediaElement","load","isMP4","titleClassName","test","tname","pubdate","stat","view","handleDanmaku","danmaku","owner","face","controls","onTimeUpdate","autoPlay","onPressEnter","defaultChecked","BangumiInfo","bangumi_message","handleInitBangumiInfo","datas","long_title","DescClassName","org_title","staff","Swiper","pageindex","pagemessage","handlePage","handlePrevButton","handleNextButton","handleCenterButtonClick","handleToggleBangumi","button_text","pindex","prevs","nindex","nexts","icon","WatchBangumi","handleInitMessage","App","search_history","showSearch","WatchBangumiSub","Boolean","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","httpio","ibili","getMP4SourceByLink","link","Promise","resolve","reject","headers","chs","on","ch","bs","JSON","Buffer","concat","durl","d","moment","Date","toLocaleDateString","toTimeString","trim","v","toFixed","obj","s","date","handleTextContent","getMP4SourceByUrl","getVideoDownLinkByurl","getSourceAddress","address","getAuthorInfo","mid"],"mappings":"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","file":"static/js/main.3f59a1c8.chunk.js","sourcesContent":["/* \n* @param istoggle\n* @discription 外网访问的开关\n* - 值为true，就是允许外网访问\n* - 值为false，就是不允许外网访问\n*/\n// 默认不会开启ip外网\nconst iptoggle = false\n/* \n* @隧道id 以及其映射的本地地址\n* - 114831240784 --> 192.168.0.104:3000 --> http://sha.viphk.ngrok.org // 这个是项目运行的网址，也就是外网访问的地址\n* - 105154240784 --> 127.0.0.1:4000\t--> http://satan.viphk.ngrok.org // 这个是代理服务器的地址\n* @开启外网的步骤\n* - 1.打开终端，输入 cd /Users/sataniya/Downloads/darwin_amd64\n* - 2.输入 ./sunny clientid 114831240784\n* - 3.新建另一个终端，输入 cd /Users/sataniya/Downloads/darwin_amd64\n* - 4.输入 ./sunny clientid 105154240784\n* - 5.浏览器访问 http://sha.viphk.ngrok.org\n*/\n/* \n* @运行项目的步骤\n* - 1.打开终端 输入 source ~/zshrc\n* - 2.输入 mongod --dbpath /Users/sataniya/Desktop/db\n* - 3.新建另一个终端，输入 source ~/zshrc\n* - 4.输入 mongo\n* - 5.打开浏览器，输入 http://localhost:27017\n* 一旦出现 It looks like you are trying to access MongoDB over HTTP on the native driver 说明数据库已经打开\n* - 6.打开vscode的终端，输入 nodemon server 或者 node server\n* - 7.新建vscode的另一个终端，输入 npm run start // 启动项目\n* - 8.打开浏览器，输入 http://localhost:3000 （如果项目自动开启浏览器的画，这一步可以省略）\n*/\n// 在这里存储自己的会员sessdata\nconst sessdata = 'd8b8d32e%2C1583203485%2C1aac7c21'\nmodule.exports = {\n    iptoggle,\n    sessdata\n}","const fs = require('fs')\n// 将txt文本转化成数组\nfunction getText(__url){\n    var text = fs.readFileSync(__url)\n    return text.toString().split('\\n')\n}\n// 生成字典\nfunction createDic(dicArr){\n    if(!Array.isArray(dicArr)){\n        throw new Error('is not Array')\n    }\n    // 初始化字典树\n    var dic = {}\n    for(let i=0, len=dicArr.length; i<len; i++){\n        dic = deep(dicArr[i], dic)\n    }\n    return dic\n}\n\nfunction deep(str, target){\n    if(!target){\n        target = {}\n    }\n    var __init = target\n    for(let i=0, len=str.length; i<len; i++){\n        // 判断有没有这个字\n        if(!__init[str[i]]){\n            // 说明没有这个字, 就要创建\n            __init = __init[str[i]] = {}\n        }else{\n            // 说明已经存在了这个字\n            __init = __init[str[i]]\n        }\n    }\n    return target\n}\n\n// 根据文件的路径获取文件信息并生成字典树\nfunction createDicByUrl(__url){\n    var dicArr = getText(__url)\n    return createDic(dicArr)\n}\n\n// 对敏感词汇进行检索\nfunction checkSensitive(str, __url){\n    if(typeof str !== 'string'){\n        throw new Error('str is not string!')\n    }\n    var dic = createDicByUrl(__url)\n    var __init = dic\n    // 用来接收符合敏感条件的字，然后统计字数，敏感数组\n    var arr = []\n    for(let i=0,len=str.length; i<len; i++){\n        // 判断这个字在字典树里面熟不熟存在\n        var cen = __init[str[i]]\n        if(cen){\n            // 说明这个字已经存在\n            arr.push(str[i]) // 就将这个字保存在 敏感数组里边\n            if(Object.keys(cen).length){\n                // 看看有没有属性，有属性说明不是最后一个字\n                __init = cen\n            }else{\n                // 没有属性说明是最后一个字\n                break\n            }\n        }else{\n            // 一旦没有符合的那就初始化\n            arr = []\n            __init = dic\n        }\n    }\n    // 实际上在这里就可以判断了，一旦敏感数组的长度大于2，那么就说明含有敏感词汇\n    var origin = str\n    var hasSensitive = null\n    var sensitive_word = ''\n    var origin_filter = origin\n    if(arr.length >= 2){\n        // console.log('含有敏感词汇')\n        hasSensitive = true\n        sensitive_word = arr.join('')\n        origin_filter = origin.replace(sensitive_word, '*'.repeat(sensitive_word.length))\n    }else{\n        // console.log('没有敏感词汇')\n        hasSensitive = false\n    }\n    return { origin, sensitive_word, origin_filter, hasSensitive }\n}\n\nmodule.exports = {\n    checkSensitive\n}","import React from 'react'\nimport { Carousel, Spin } from 'antd'\nimport './common.css'\nimport './Home/Home.css'\nclass Home extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            imgArr: [\n                {\n                    id: '01',\n                    src: 'http://cdn.cnbj1.fds.api.mi-img.com/mi-mall/b830faf6f15af779b581cd6182a07bc3.jpg?w=2452&h=920',\n                    alt: '小米手机'\n                },\n                {\n                    id: '02',\n                    src: 'http://cdn.cnbj1.fds.api.mi-img.com/mi-mall/755aca9487082e7698e16f17cfb70839.jpg?w=2452&h=920',\n                    alt: '小米手表'\n                },\n                {\n                    id: '03',\n                    src: 'http://cdn.cnbj1.fds.api.mi-img.com/mi-mall/e52c3e98602b90f198ec316dce253cba.jpg?w=2452&h=920',\n                    alt: '小米电视'\n                }\n            ],\n            images: []\n        }\n        this.handleError = this.handleError.bind(this)\n    }\n    handleError(){\n        console.log('is error')\n    }\n    UNSAFE_componentWillMount(){\n        var { imgArr } = this.state\n        var images = []\n        imgArr.forEach(el=>{\n            var image = new Image()\n            image.src = el.src\n            image.onload = ()=>{\n                // 说明图片加载完成\n                images.push(image)\n                this.setState({\n                    images\n                })\n            }\n        })\n    }\n    render(){\n        var { images, imgArr } = this.state\n        // 判断是不是图片已经加载完成\n        if(images.length === 3){\n            return (\n                <div className='common-body' onError={this.handleError}>\n                    <Carousel autoplay>\n                        {imgArr.map(el=>(\n                            <img className='home-carousel-img' key={el.id} src={el.src} data-src={el.src} alt={el.alt} />\n                        ))}\n                    </Carousel>\n                </div>\n            )\n        }else{\n            return (\n                <div className='common-loading' onError={this.handleError}>\n                    <Spin tip='Loading...' size='large'></Spin>\n                </div>\n            )\n        }\n    }\n}\nexport default Home","import React from 'react'\nimport { Spin } from 'antd'\nclass LazyLoadingImg extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            loading: true\n        }\n        this.handleInitImg = this.handleInitImg.bind(this)\n        this.handleInitImg() // 在这里就立即初始化图片\n    }\n    handleInitImg(){\n        var { src } = this.props.state\n        var image = new Image()\n        image.src = src\n        image.onload = ()=>{\n            this.setState({\n                loading: false\n            })\n        }\n    }\n    render(){\n        var { nodeName, src, alt, BoxClassName, ImgClassName }  = this.props.state\n        var { loading } = this.state\n        if(!nodeName){\n            return (\n                <div className={BoxClassName}>\n                    <Spin spinning={loading}>\n                        <img src={src} alt={alt} className={ImgClassName} />\n                    </Spin>\n                </div>\n            )\n        }\n        if(nodeName === 'ASIDE' || nodeName === 'aside'){\n            return (\n                <aside className={BoxClassName}>\n                    <Spin spinning={loading}>\n                        <img src={src} alt={alt} className={ImgClassName} />\n                    </Spin>\n                </aside>\n            )\n        }\n        \n    }\n}\nexport default LazyLoadingImg","import React from 'react'\nimport { handleView } from '../../tool'\nimport LazyLoadingImg from '../Common/LazyLoadingImg'\nimport { Icon, Pagination } from 'antd'\nimport axios from 'axios'\nimport { iptoggle } from '../Common/IpToggle'\nclass SearchList extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            loading: true, // 页面的加载loading\n            search_list: null // 点击数据分页之后会更新搜索结果\n        }\n        this.handlePaginationChange = this.handlePaginationChange.bind(this)\n        this.handleSearchList = this.handleSearchList.bind(this)\n    }\n    handlePaginationChange(page){\n        var { search_text } = this.props.state\n        // console.log(search_text)\n        if(iptoggle){\n            axios.get('http://satan.viphk.ngrok.org?aim=search&&val='+search_text+'&&page='+page).then(res=>{\n                var data = res.data.filter(el=>el.result_type === 'video')[0].data\n                // console.log(data)\n                this.setState({\n                    search_list: data\n                })\n            })\n        }else{\n            axios.get('http://localhost:4000?aim=search&&val='+search_text+'&&page='+page).then(res=>{\n                var data = res.data.filter(el=>el.result_type === 'video')[0].data\n                // console.log(data)\n                this.setState({\n                    search_list: data\n                })\n            })\n        }\n        \n    }\n    handleSearchList(list){\n        var lists = (list.map(el=>(\n            <a className='search-item' key={el.id} href={'/search/player?arcurl='+el.arcurl+'&&tag='+el.tag}>\n                <LazyLoadingImg \n                    state={{\n                        BoxClassName: 'search-item-header',\n                        ImgClassName: 'search-item-img',\n                        src: 'http:'+el.pic,\n                        alt: el.typename\n                    }}\n                ></LazyLoadingImg>\n                <div className='search-item-body'>\n                    <p className='search-item-date'>\n                        <span><Icon type=\"play-circle\" theme=\"filled\" /> {handleView(el.play)}</span>\n                        <span><Icon type=\"clock-circle\" theme=\"filled\" /> {el.duration}</span>\n                    </p>\n                    <p className='search-item-author'><Icon type=\"twitter-circle\" theme=\"filled\" /> {el.author}</p>\n                </div>\n            </a>\n        )))\n        return lists\n    }\n    render(){\n        // console.log(this.props)\n        var { list } = this.props.state\n        var { search_list } = this.state\n        var lists = list.filter(el=>el.result_type === 'video')[0].data\n        if(search_list){\n            lists = search_list\n        }\n        return (\n            // duration play\n            <div className='search-list'>\n                {this.handleSearchList(lists)}\n                <div className='search-pagination'>\n                    <Pagination defaultPageSize={20} total={1000} onChange={this.handlePaginationChange}></Pagination>\n                </div>\n            </div>\n        )\n    }\n}\nexport default SearchList","import React from 'react'\nimport './LazyLoad.css'\nimport { Spin } from 'antd'\n// threshold\nconst threshold = [0.01]\nclass LazyLoad extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            io: null,\n            refs: null,\n            images: null,\n            loading: true\n        }\n        this.handleonload = this.handleonload.bind(this)\n    }\n    UNSAFE_componentWillMount(){\n        var {ImgClassName, src, alt, ImgStyle } = this.props.state\n        var images = []\n        var refs = []\n        const ref = React.createRef()\n        refs.push(ref)\n        images.push(\n            <img className={ImgClassName} ref={ref} data-src={src} alt={alt} style={{...ImgStyle}} />\n        )\n        this.setState({\n            refs,\n            images\n        })\n    }\n    componentDidMount(){\n        const io = new IntersectionObserver(entries=>{\n            entries.forEach(item=>{\n                if(item.intersectionRatio <= 0) return\n                var { src } = this.props.state\n                const { target } = item\n                var image = new Image()\n                image.src = src\n                image.onload = ()=>{\n                    this.setState({ loading: false })\n                    target.src = target.dataset.src\n                }\n            })\n        },{\n            threshold\n        })\n        this.setState({ io })\n    }\n    handleonload(){\n        var { io, refs } = this.state\n        refs.forEach(item=>{\n            io.observe(item.current)\n        })\n    }\n    render(){\n        var { BoxClassName, width, height, BoxStyle } = this.props.state\n        var { images, loading } = this.state\n        return (\n            <div className={BoxClassName} style={{width, height, ...BoxStyle}}>\n                <Spin spinning={loading}>\n                    {images}\n                    <img onError={this.handleonload} src='' alt='lazyload' style={{display: 'none'}} />\n                </Spin>\n            </div>\n        )\n    }\n}\nexport default LazyLoad","import React from 'react'\nimport { handledate, handleTitle } from '../../tool'\nimport { Tag, Button, Icon } from 'antd'\n// import LazyLoadingImg from '../Common/LazyLoadingImg'\nimport LazyLoad from '../Common/LazyLoad'\nimport { Link } from 'react-router-dom'\nclass Bangumi extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {}\n        this.handlEpsTag = this.handlEpsTag.bind(this)\n        this.handleBangumiTagClick = this.handleBangumiTagClick.bind(this)\n        this.handleButtonClick = this.handleButtonClick.bind(this)\n    }\n    handleBangumiTagClick(eps, index){\n        // console.log(eps)\n        // var data = eps[index]\n        var data = eps\n        var path = {\n            pathname: '/search/bangumi',\n            state: { data, index }\n        }\n        return path\n    }\n    handleButtonClick(list){\n        var path = {\n            pathname: '/search/bangumi',\n            state: { list }\n        }\n        return path\n    }\n    handlEpsTag(eps, type, list){\n        // console.log(eps)\n        if(!eps.length){\n            if(type === 'media_ft'){\n                // 说明是电影\n                return (\n                    <div className='bangumi-info-button'>\n                        <Button type=\"primary\" shape=\"round\">\n                            <Link to={this.handleButtonClick(list)}>\n                                <Icon type=\"play-circle\" theme=\"filled\" /> 立即观看\n                            </Link>\n                        </Button>\n                    </div>\n                )\n            }\n            return\n        }\n        // 说明是番剧\n        if(eps.length > 21){\n            return (\n                <div className='bangumi-info-tag-over'>\n                    {eps.map((el, index)=>(\n                        <Tag color='purple' key={el.id} style={{marginBottom: 8}}>\n                            <Link to={this.handleBangumiTagClick(eps, index)}>{index+1}</Link>\n                        </Tag>\n                    ))}\n                </div>\n            )\n        }\n        return (\n            <div className='bangumi-info-tag'>\n                {eps.map((el, index)=>(\n                    <Tag color='purple' key={el.id} style={{marginBottom: 8}}>\n                        <Link to={this.handleBangumiTagClick(eps, index)}>{index+1}</Link>\n                    </Tag>\n                ))}\n            </div>\n        )\n    }\n    render(){\n        var { list, type } = this.props\n        var media_type = type || 'media_bangumi'\n        var lists = list.filter(el=>el.result_type === media_type)[0].data\n        // console.log(lists)\n        return (\n            <div className='search-bangumi'>\n                {lists.map(el=>(\n                    <div className='bangumi-item' key={el.media_id}>\n                        {/* <LazyLoadingImg \n                            state={{\n                                nodeName: 'aside',\n                                BoxClassName: 'bangumi-avatar',\n                                ImgClassName: 'bangumi-img', \n                                src: el.cover, \n                                alt: el.title\n                            }}>\n                        </LazyLoadingImg> */}\n                        <LazyLoad \n                            state={{\n                                BoxClassName: 'bangumi-avatar',\n                                ImgClassName: 'bangumi-img', \n                                src: el.cover, \n                                alt: el.title\n                            }}\n                        ></LazyLoad>\n                        <section className='bangumi-info'>\n                            <h1 className='bangumi-info-headline'>\n                                <Tag color='magenta'>{el.season_type_name}</Tag>\n                                <span className='bangumi-info-title'>{handleTitle(el.title)}</span>\n                            </h1>\n                            <div className='bangumi-info-line'>\n                                <p className='info-line-left'>\n                                    <span className='label'>风格：</span>\n                                    <span className='value'>{el.styles}</span>\n                                </p>\n                                <p className='info-line-right'>\n                                    <span className='label'>地区：</span>\n                                    <span className='value'>{el.areas}</span>\n                                </p>\n                            </div>\n                            <div className='bangumi-info-line'>\n                                <p className='info-line-left'>\n                                    <span className='label'>开播时间：</span>\n                                    <span className='value'>{handledate(el.pubtime)}</span>\n                                </p>\n                                <p className='info-line-right'>\n                                    <span className='label'>声优：</span>\n                                    <span className='value'>{el.cv}</span>\n                                </p>\n                            </div>\n                            <p className='bangumi-info-desc'>简介：{el.desc}</p>\n                            {this.handlEpsTag(el.eps, media_type, el)}\n                        </section>\n                    </div>\n                ))}\n            </div>\n        )\n    }\n}\nexport default Bangumi","import React from 'react'\nimport './common.css'\nimport './Search/Search.css'\nimport { Input, Tag, Spin, Radio } from 'antd'\nimport { handleType } from '../tool'\nimport axios from 'axios'\nimport qs from 'querystring'\nimport SearchList from './Search/SearchList'\nimport Bangumi from './Search/Bangumi'\nimport { iptoggle } from './Common/IpToggle'\n// import { HashRouter as Router, Route, Switch } from 'react-router-dom'\n// 初始化搜索内容\nvar search_text = ''\nclass Search extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            list: [],\n            history: [],\n            isloading: false,\n            page: ''\n        }\n        this.handleSearch = this.handleSearch.bind(this)\n        this.handleClick = this.handleClick.bind(this)\n        this.handleTagClose = this.handleTagClose.bind(this)\n        this.handleTagChange = this.handleTagChange.bind(this)\n    }\n    handleSearch(val){\n        if(!val){\n            return\n        }\n        var saerch_history = localStorage.getItem('search-history')\n        var history = null\n        if(!saerch_history){\n            history = [val]\n        }else{\n            history = saerch_history.split(',')\n            history.push(val)\n            history = Array.from(new Set(history))\n        }\n        localStorage.setItem('search-history', history)\n        this.setState({\n            history\n        })\n        if(iptoggle){\n            axios.get('http://satan.viphk.ngrok.org?aim=search&&val='+val).then(res=>{\n                var data = res.data\n                this.setState({\n                    list: data,\n                    isloading: false //获取搜索结果之后就要进行渲染，取消加载状态\n                })\n            })\n        }else{\n            axios.get('http://localhost:4000?aim=search&&val='+val).then(res=>{\n                var data = res.data\n                this.setState({\n                    list: data,\n                    isloading: false //获取搜索结果之后就要进行渲染，取消加载状态\n                })\n            })\n        }\n        \n    }\n    UNSAFE_componentWillMount(){\n        var searchtext = this.props.location.search.replace('?', '')\n        var { val } = qs.parse(searchtext)\n        search_text = val\n        if(val){\n            // 说明是进行了跳转\n            this.setState({\n                isloading: true\n            })\n            this.handleSearch(val)\n        }\n        var saerch_history = localStorage.getItem('search-history')\n        var history = []\n        if(saerch_history){\n            // 说明有历史记录\n            history = saerch_history.split(',')\n        }\n        history = Array.from(new Set(history))\n        this.setState({\n            history\n        })\n    }\n    handleClick(event){\n        var val = event.target.textContent\n        search_text = val\n        // 这个时候肯定是处于加载状态\n        this.setState({\n            isloading: true\n        })\n        this.handleSearch(val)\n    }\n    handleTagClose(e){\n        // 说明要关闭这个标签\n        var el = e.target\n        function getparentNode(node){\n            if(node.nodeName === 'SPAN'){\n                return node.textContent\n            }\n            return getparentNode(node.parentNode)\n        }\n        var val = getparentNode(el)\n        var history = localStorage.getItem('search-history').split(',')\n        history = history.filter(el=>el !== val)\n        this.setState({\n            history\n        })\n        localStorage.setItem('search-history', history)\n    }\n    handleTagChange(e){\n        var val = e.target.value\n        this.setState({\n            page: val\n        })\n    }\n    // 控制页面的切换\n    handlePageReflash(p, list){\n        // console.log(search_text)\n        var page = p || 'video'\n        switch(page){\n            case 'video':\n                return (\n                    <SearchList state={{list, search_text}}></SearchList>\n                )\n            case 'media_bangumi':\n                return (\n                    <Bangumi list={list} type='media_bangumi'></Bangumi>\n                )\n            case 'media_ft':\n                return (\n                    <Bangumi list={list} type='media_ft'></Bangumi>\n                )\n            default:\n                // return (\n                //     <SearchList list={list}></SearchList>\n                // )\n        }\n    }\n    render(){\n        var { list, history, isloading, page } = this.state\n        if(isloading){\n            // 这个时候会属于loading状态\n            return (\n                <div className='common-loading'>\n                    <Spin tip='Loading...' size='large'></Spin>\n                </div>\n            )\n        }\n        if(list.length){\n            // console.log(list)\n            return (\n                <div className='common-body'>\n                    <Input.Search placeholder='搜索视频...' style={{width: 200, marginTop: 50}} onSearch={this.handleSearch}></Input.Search>\n                    <div className='search-tag'>\n                        <Radio.Group defaultValue='video' onChange={this.handleTagChange}>\n                            {list.map(el=>(\n                                <Radio.Button value={el.result_type} key={el.result_type}>{handleType(el.result_type)}</Radio.Button>\n                            ))}\n                        </Radio.Group>\n                    </div>\n                    {this.handlePageReflash(page, list)}\n                </div>\n            )\n        }else if(history.length){\n            return (\n                <div className='common-body'>\n                    <h1 style={{marginTop: 50}}>Wonderful video, waiting for you to search ...</h1>\n                    <Input.Search placeholder='Search for video ...' style={{width: 200, marginTop: 50}} onSearch={this.handleSearch}></Input.Search>\n                    <div className='search-history' onClick={this.handleClick}>\n                        <p className='history-list'>search history:</p>\n                        {history.map(el=>(\n                            <Tag closable key={el} color='green' onClose={this.handleTagClose}>{el}</Tag>\n                        ))}\n                    </div>\n                </div>\n            )\n        }else{\n            return (\n                <div className='common-body'>\n                    <h1 style={{marginTop: 50}}>Wonderful video, waiting for you to search ...</h1>\n                    <Input.Search placeholder='Search for video ...' style={{width: 200, marginTop: 50}} onSearch={this.handleSearch}></Input.Search>\n                    <div className='search-history'>\n                        <p className='history-list'>No search history...</p>\n                    </div>\n                </div>\n            )\n        }\n    }\n}\nexport default Search","import React from 'react'\nclass Option extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {}\n    }\n    render(){\n        return (\n            <div className='option-body'>\n                <h1>Welcome to view the paper!</h1>\n            </div>\n        )\n    }\n}\nexport default Option","import React from 'react'\nclass Option1 extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {}\n    }\n    render(){\n        return (\n            <div className='option-body'>\n                <h1>this is Option1 Component!</h1>\n            </div>\n        )\n    }\n}\nexport default Option1","import React from 'react'\nclass Option2 extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {}\n    }\n    render(){\n        return (\n            <div className='option-body'>\n                <h1>this is Option2 Component!</h1>\n            </div>\n        )\n    }\n}\nexport default Option2","import React from 'react'\nclass Option3 extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {}\n    }\n    render(){\n        return (\n            <div className='option-body'>\n                <h1>this is Option3 Component!</h1>\n            </div>\n        )\n    }\n}\nexport default Option3","import React from 'react'\nclass Option4 extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {}\n    }\n    render(){\n        return (\n            <div className='option-body'>\n                <h1>this is Option4 Component!</h1>\n            </div>\n        )\n    }\n}\nexport default Option4","import React from 'react'\n// react-router-dom\nimport { Route, Switch, HashRouter as Router } from 'react-router-dom' \n// component\nimport Option from './About/Option'\nimport Option1 from './About/Option1'\nimport Option2 from './About/Option2'\nimport Option3 from './About/Option3'\nimport Option4 from './About/Option4'\nimport { Row, Col, Menu } from 'antd'\nimport { iptoggle } from './Common/IpToggle'\nconst { SubMenu }  = Menu\n\n// tool\nfunction pushHistory(val){\n    var base_url = ''\n    if(iptoggle){\n        base_url = 'http://sha.viphk.ngrok.org/about#'\n    }else{\n        base_url = 'http://localhost:3000/about#'\n    }\n    \n    var go_url = ''\n    switch(val){\n        case 'Option 1':\n            go_url = '/option1'\n            break\n        case 'Option 2':\n            go_url = '/option2'\n            break\n        case 'Option 3':\n            go_url = '/option3'\n            break\n        case 'Option 4':\n            go_url = '/option4'\n            break\n        default:\n    }\n    window.location.href = base_url + go_url\n}\n\nclass About extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            openKeys: ['sub1']\n        }\n        this.rootSubmenuKeys = ['sub1', 'sub2', 'sub4']\n        this.onOpenChange = this.onOpenChange.bind(this)\n        this.handleSelect = this.handleSelect.bind(this)\n    }\n    onOpenChange(openKeys){\n        const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1)\n        if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n          this.setState({ openKeys })\n        } else {\n          this.setState({\n            openKeys: latestOpenKey ? [latestOpenKey] : [],\n          })\n        }\n      }\n    handleSelect({ item }){\n        var select = item.props.children\n        pushHistory(select)\n    }\n    render(){\n        return (\n            <Router>\n                <div className='about-body'>\n                    <Row>\n                        <Col span={6}>\n                            <Menu\n                                mode=\"inline\"\n                                openKeys={this.state.openKeys}\n                                onOpenChange={this.onOpenChange}\n                                style={{ width: 256 }}\n                                theme='dark'\n                                onSelect={this.handleSelect}\n                            >\n                                <SubMenu\n                                key=\"sub1\"\n                                title={\n                                    <span>1. Navigation One</span>\n                                }\n                                >\n                                <Menu.Item key=\"1\">Option 1</Menu.Item>\n                                <Menu.Item key=\"2\">Option 2</Menu.Item>\n                                <Menu.Item key=\"3\">Option 3</Menu.Item>\n                                <Menu.Item key=\"4\">Option 4</Menu.Item>\n                                </SubMenu>\n                                <SubMenu\n                                key=\"sub2\"\n                                title={\n                                    <span>2. Navigation Two</span>\n                                }\n                                >\n                                <Menu.Item key=\"5\">Option 5</Menu.Item>\n                                <Menu.Item key=\"6\">Option 6</Menu.Item>\n                                <SubMenu key=\"sub3\" title=\"Submenu\">\n                                    <Menu.Item key=\"7\">Option 7</Menu.Item>\n                                    <Menu.Item key=\"8\">Option 8</Menu.Item>\n                                </SubMenu>\n                                </SubMenu>\n                                <SubMenu\n                                key=\"sub4\"\n                                title={\n                                    <span>3. Navigation Three</span>\n                                }\n                                >\n                                <Menu.Item key=\"9\">Option 9</Menu.Item>\n                                <Menu.Item key=\"10\">Option 10</Menu.Item>\n                                <Menu.Item key=\"11\">Option 11</Menu.Item>\n                                <Menu.Item key=\"12\">Option 12</Menu.Item>\n                                </SubMenu>\n                            </Menu>\n                        </Col>\n                        <Col span={18}>\n                            <Switch>\n                                <Route exact path='/' component={Option}></Route>\n                                <Route path='/option1' component={Option1}></Route>\n                                <Route path='/option2' component={Option2}></Route>\n                                <Route path='/option3' component={Option3}></Route>\n                                <Route path='/option4' component={Option4}></Route>\n                            </Switch>\n                        </Col>\n                    </Row>\n                </div>\n            </Router>\n        )\n    }\n}\nexport default About","import React from 'react'\nimport LazyLoad from '../components/Common/LazyLoad'\n// import { Button, Alert } from 'antd'\nconst images = []\nfor(let i=0; i<4; i++){\n    images.push(\n        <LazyLoad \n            state={{\n                BoxClassName: 'lazyload-img-box',\n                ImgClassName: 'lazyload-img',\n                src: 'https://pschina.github.io/src/assets/images/'+i+'.jpg',\n                alt: i+'.jpg',\n                width: 200,\n                height: 200\n            }}\n        ></LazyLoad>\n    )\n}\nclass ContentUS extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {}\n    }\n    render(){\n        return (\n            <div>\n                <h1>this is ContentUS Component!</h1>\n                {images}\n            </div>\n        )\n    }\n}\nexport default ContentUS","// 打算设置20个弹幕赛道，每条赛道的宽度是 30px\n\n// 如何定义赛道\nvar Tracks = []\nfor(let i=0;i<20;i++){\n    Tracks[i] = false\n}\n\n/**\n * @function DanMu\n * @description 创建一个弹幕类\n */\nfunction DanMu(container,content,styles,time){\n    this.container = container\n    this.content = content\n    this.label = false // 记录一个触发器，这个触发器只能触发一次\n    for(let i=0;i<20;i++){\n        if(!Tracks[i]){\n            // 说明此时的赛道是允许让弹幕进入的\n            Tracks[i] = true\n            this.Sign = i // 记住这个赛道的号码\n            break;\n        }\n    }\n    this.time = time || null\n    var __styles = {\n        fontSize:\"25px\",\n        color:\"#fff\",\n        position:\"absolute\",\n        whiteSpace:\"nowrap\"\n    }\n    this.styles = styles || __styles\n    this.div = null\n    this.__wdith = document.body.clientWidth\n    this.count = 0\n    this.gap = 20 // 默认每条弹幕之间最近的横向间隔是 20px\n}\n\n// create dom\nDanMu.prototype.create = function(){\n    this.top = this.Sign*33 + 10\n    var div = document.createElement(\"div\")\n    div.innerHTML = this.content\n    div.style.top = this.top + \"px\"\n    for(let o in this.styles){\n        div.style[o] = this.styles[o]\n    }\n    div.style.left = this.__wdith + \"px\"\n    this.div = div\n    this.container.append(div)\n    this.__self = parseInt(this.styles.fontSize)*this.content.length\n    return this\n}\n\nDanMu.prototype.move = function(speed){\n    this.speed = speed || 1\n    var timer = setInterval(()=>{\n        this.count++\n        if(parseInt(this.div.style.left) + this.__self + this.gap < this.__wdith && !this.label){\n            // 说明此时弹幕已经全部进入窗口，可以赛道已经空出来，可以下一条弹幕进入赛道了\n            Tracks[this.Sign] = false\n            this.label = true\n        }\n        if(parseInt(this.div.style.left) < -this.__self){\n            clearInterval(timer)\n            this.container.removeChild(this.div)\n        }else{\n            this.div.style.left = parseInt(this.div.style.left) - this.speed + \"px\"\n        }\n    },10)\n}\nexport default DanMu","import React from 'react'\nimport { Icon, Button } from 'antd'\nimport { handlePubdate } from '../../tool'\nclass Reply extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {}\n    }\n    render(){\n        var { comment } = this.props\n        if(comment){\n            // console.log(comment)\n            return (\n                <div className='comment-reply-box'>\n                    {comment.map((rep, index)=>(\n                        <div className='reply-item' key={index}>\n                            <aside className='reply-item-avatar'>\n                                <img src={rep.avatar} alt={rep.uname} />\n                            </aside>\n                            <section className='reply-item-body'>\n                                <p className='reply-item-user'>\n                                    <span className='reply-name'>{rep.uname}</span>\n                                    <span className='reply-text'>{rep.message}</span>\n                                </p>\n                                <p className='reply-item-date'>\n                                    <span className='comment-ctime'>{handlePubdate(rep.ctime)}</span>\n                                    <span className='comment-like'>\n                                        <Icon type='like' /> {rep.like}\n                                    </span>\n                                    <Button type='primary' size='small' className='comment-reply-btn'>回复</Button>\n                                </p>\n                            </section>\n                        </div>\n                    ))}\n                </div>\n            )\n        }else{\n            return (\n                <div className='comment-reply-box'></div>\n            )\n        }\n    }\n}\nexport default Reply","import React from 'react'\nimport Reply from './Reply'\nimport { Icon, Button } from 'antd'\nimport { handlePubdate } from '../../tool'\nimport LazyLoadingImg from '../Common/LazyLoadingImg'\nclass Comment extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {}\n    }\n    render(){\n        var { comments } = this.props\n        if(comments){\n            return (\n                <div className='player-comment'>\n                    {comments.map((comment, index)=>(\n                        <div className='comment-item' key={index}>\n                            <LazyLoadingImg \n                                state={{\n                                    nodeName: 'aside',\n                                    BoxClassName: 'comment-item-avatar',\n                                    src: comment.avatar,\n                                    alt: comment.uname\n                                }}\n                            ></LazyLoadingImg>\n                            <section className='comment-item-body'>\n                                <p className='comment-user'>{comment.uname}</p>\n                                <p className='comment-text'>{comment.message}</p>\n                                <p className='comment-pudate'>\n                                    <span className='comment-ctime'>{handlePubdate(comment.ctime)}</span>\n                                    <span className='comment-like'>\n                                        <Icon type='like' /> {comment.like}\n                                    </span>\n                                    <Button type='primary' size='small' className='comment-reply-btn'>回复</Button>\n                                </p>\n                                <Reply comment={comment.replies}></Reply>\n                            </section>\n                        </div>\n                    ))}\n                </div>\n            )\n        }else{\n            return (\n                <div className='player-comment'></div>\n            )\n        }\n    }\n}\nexport default Comment","import React from 'react'\nimport qs from 'querystring'\nimport axios from 'axios'\nimport './Player.css'\nimport Comment from './Comment'\nimport { Spin, Input, Switch, Icon, Tag, Button } from 'antd'\nimport { handlePubdate, handleView, handleDanmaku, formate, isFLV, isMP4 } from '../../tool'\nimport flvjs from 'flv.js'\nimport DanMu from './danmu'\nimport { checkSensitive } from '../../algorithm/dic'\nimport { iptoggle } from '../Common/IpToggle'\nimport LazyLoadingImg from '../Common/LazyLoadingImg'\n// import loadingsrc from '../../asset/ploading.gif'\n// indicator={<img width='50px' src={loadingsrc} />}\n// 在这里初始化弹幕的数据，因为如果设置在state会引起数据的更新儿导致video标签的刷新\nvar damaku = []\n// 也是同样的原因才会在这里初始化弹幕的样式，为了避免state数据的更新导致video标签的刷新\nvar damakuStyle = null\n// 获取最初的弹幕的数据\nif(iptoggle){\n    axios.get('http://satan.viphk.ngrok.org?aim=barrage').then(res=>{\n        damaku = res.data\n    })\n}else{\n    axios.get('http://localhost:4000?aim=barrage').then(res=>{\n        damaku = res.data\n    })\n}\nclass Player extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            message: null,\n            icons: [\n                {\n                    type: 'like',\n                    name: '喜欢'\n                },\n                {\n                    type: 'copyright',\n                    name: '硬币'\n                },\n                {\n                    type: 'star',\n                    name: '收藏'\n                },\n                {\n                    type: 'share-alt',\n                    name: '转发'\n                }\n            ],\n            tags: [],\n            comments: [],\n            play_url: '',\n            // desc: ''\n        }\n        this.handleSwitch = this.handleSwitch.bind(this)\n        this.handlePressEnter = this.handlePressEnter.bind(this)\n        this.handleTimeUpdate = this.handleTimeUpdate.bind(this)\n        this.handleCurrentTime = this.handleCurrentTime.bind(this)\n        this.handleVideoClick = this.handleVideoClick.bind(this)\n    }\n    UNSAFE_componentWillMount(){\n        var searchtext = this.props.location.search.replace('?', '')\n        var { arcurl, tag} = qs.parse(searchtext)\n        if(iptoggle){\n            axios.get('http://satan.viphk.ngrok.org?aim=message&&val='+ arcurl).then(res=>{\n                var data = res.data\n                this.setState({\n                    message: data\n                })\n                axios.get('http://satan.viphk.ngrok.org?aim=comment&&val='+ data.aid).then(res=>{\n                    this.setState({\n                        comments: res.data\n                    })\n                    axios.get('http://satan.viphk.ngrok.org?aim=download&&val='+ arcurl).then(res=>{\n                        // console.log(res.data)\n                        this.setState({\n                            play_url: res.data\n                        })\n                    })\n                })\n            })\n        }else{\n            axios.get('http://localhost:4000?aim=message&&val='+ arcurl).then(res=>{\n                var data = res.data\n                // axios.get('http://localhost:4000?aim=author&&val='+data.owner.mid).then(r=>{\n                //     console.log(r.data)\n                // })\n                this.setState({\n                    message: data\n                })\n                axios.get('http://localhost:4000?aim=comment&&val='+ data.aid).then(res=>{\n                    this.setState({\n                        comments: res.data\n                    })\n                    axios.get('http://localhost:4000?aim=download&&val='+ arcurl).then(res=>{\n                        // console.log(res.data)\n                        this.setState({\n                            play_url: res.data\n                        })\n                    })\n                })\n            })\n        }\n        this.setState({\n            tags: tag.split(',')\n        })\n    }\n    handleTimeUpdate(){\n        var current = this.video.currentTime\n        this.handleCurrentTime(current)\n    }\n    handleCurrentTime(val){\n        var container = this.playerbox\n        for(let i=0, len=damaku.length; i<len; i++){\n            if(Math.abs(val - damaku[i].currentTime) < 0.12){\n                // 这里要判断是不是刚刚输入的弹幕\n                if(damaku[i].isEnter){\n                    var style = {\n                        fontSize:\"25px\",\n                        color:\"#fff\",\n                        position:\"absolute\",\n                        whiteSpace:\"nowrap\",\n                        borderBottom: '1px solid #ff80b0' // 为了方便区别是刚刚输入的弹幕，在弹幕的下方加一条下划线\n                    }\n                    new DanMu(container, damaku[i].content, style).create().move()\n                }else{\n                    new DanMu(container, damaku[i].content, damakuStyle).create().move()\n                }\n                \n            }\n        }\n    }\n    handleVideoClick(){\n        // if(this.video.paused){\n        //     this.video.play()\n        //     return\n        // }\n        // if(this.video.played.length){\n        //     this.video.pause()\n        // }\n    }\n    handleSwitch(checked){\n        // 弹幕开关\n        // console.log(checked)\n        var styles = null\n        if(!checked){\n            // 说明开关关闭\n            styles = {\n                fontSize:\"25px\",\n                color:\"transparent\",\n                position:\"absolute\",\n                whiteSpace:\"nowrap\"\n            }\n        }\n        damakuStyle = styles\n    }\n    handlePressEnter(e){\n        var val = e.target.value\n        console.log(val)\n         var { hasSensitive } = checkSensitive(val, '/Users/sataniya/Desktop/my-app/src/algorithm/sensitive')\n         console.log(hasSensitive)\n        var current = this.video.currentTime + 1\n        var data = {\n            content: val,\n            currentTime: current, // 之所以要延迟一秒的原因是为了能够在输入之后1秒中之后出现\n            isEnter: true // 在这里标志为刚刚输入的弹幕\n        }\n        damaku.push(data)\n        if(iptoggle){\n            axios.post('http://satan.viphk.ngrok.org?aim=submitbarrage', formate(data)).then(res=>{\n                console.log(res.data)\n            })\n        }else{\n            axios.post('http://localhost:4000?aim=submitbarrage', formate(data)).then(res=>{\n                console.log(res.data)\n            })\n        }\n    }\n    render(){\n        var { message, icons, tags, comments, play_url } = this.state\n        // var videoLoadingStyle = play_url ? 'player-video-loading-hide' : 'player-video-loading'\n        if(message){\n            // console.log(message)\n            // play_url 同样可以作为视频是不是开始加载的标志\n            if(play_url){\n                // 判断是不是FLV\n                if(isFLV(play_url)){\n                    if (flvjs.isSupported()) {\n                        var flvPlayer = flvjs.createPlayer({\n                            type: 'flv',\n                            isLive: true,\n                            url: play_url,\n                            hasAudio:true,\n                            hasVideo:true,\n                            enableStashBuffer: true\n                        });\n                        flvPlayer.attachMediaElement(this.video);\n                        flvPlayer.load();\n                        flvPlayer.play();\n                    }\n                }\n                // 判断是不是MP4\n                if(isMP4(play_url)){\n                    var searchtext = this.props.location.search.replace('?', '')\n                    var { arcurl} = qs.parse(searchtext)\n                    if(iptoggle){\n                        this.video.src = 'http://satan.viphk.ngrok.org?aim=source&&val='+ arcurl\n                    }else{\n                        this.video.src = 'http://localhost:4000?aim=source&&val='+ arcurl\n                    }\n                }\n            }\n            // 这里要判断是不是以【开头，如果是的话就要消除中文的间隙\n            var titleClassName = /^【/.test(message.title) ? 'player-title-remove' : 'player-title'\n            return (\n                <div className='player-body'>\n                    <div className='player-top'>\n                        <aside className='player-top-left'>\n                            <h1 className={titleClassName}>{message.title}</h1>\n                            <p className='player-time'>{message.tname + ' ' + handlePubdate(message.pubdate)}</p>\n                            <span className='player-view'>{handleView(message.stat.view) + '播放'}</span>\n                            <span className='player-danmaku'>{handleDanmaku(message.stat.danmaku) + '弹幕'}</span>\n                        </aside>\n                        <section className='player-top-right'>\n                            <LazyLoadingImg \n                                state={{\n                                    BoxClassName: 'player-top-right-aside',\n                                    ImgClassName: 'player-top-right-img',\n                                    src: message.owner.face,\n                                    alt: message.owner.name\n                                }}\n                            ></LazyLoadingImg>\n                            <div className='player-top-right-section'>\n                                <p className='player-top-right-user'>\n                                    <Tag color='magenta'>作者</Tag> \n                                    {message.owner.name}\n                                </p>\n                                {/* <p className='player-top-right-desc'>{message.desc}</p> */}\n                                <Button type='primary' shape='round'>\n                                    <Icon type=\"plus-circle\" theme=\"filled\" /> 立即关注\n                                </Button>\n                            </div>\n                        </section>\n                    </div>\n                    <div className='player-box' ref={el=>this.playerbox=el}>\n                        <div className='player-container'>\n                            <video src='' controls onTimeUpdate={this.handleTimeUpdate} ref={el=>this.video=el} autoPlay onClick={this.handleVideoClick} className='player-video'></video>\n                        </div>\n                        <div className='player-sendbar'>\n                            <span className='player-danmaku-inline'>{handleDanmaku(message.stat.danmaku)+' 条实时弹幕'}</span>\n                            <Input defaultValue='barrage...' style={{width: 300}} className='player-input-barrage' onPressEnter={this.handlePressEnter}></Input>\n                            <Switch defaultChecked={true} onChange={this.handleSwitch}></Switch>\n                        </div>\n                        <div className='player-toolbar'>\n                            {icons.map(el=>(\n                                <span className='player-toolbar-icon' key={el.type}>\n                                    <Icon type={el.type} /> {el.name}\n                                </span>\n                            ))}\n                        </div>\n                        <div className='player-info'>\n                            <p className='player-info-desc'>{message.desc}</p>\n                            <p className='player-info-tag'>\n                                {tags.map(tag=>(\n                                    <Tag color='purple' key={tag}>{tag}</Tag>\n                                ))}\n                            </p>\n                        </div>\n                        <Comment comments={comments}></Comment>\n                    </div>\n                </div>\n            )\n        }else{\n            return (\n                <div className='player-loading'>\n                    <Spin tip='Loading...' size='large'></Spin>\n                </div>\n            )\n        }\n    }\n}\nexport default Player","import React from 'react'\nimport { handlePubdate, handleView, handleDanmaku, handleTitle } from '../../tool'\nimport { Tag, Spin } from 'antd'\nimport axios from 'axios'\nimport { iptoggle } from '../Common/IpToggle'\nclass BangumiInfo extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            loading: true,\n            bangumi_message: null\n        }\n        this.handleInitBangumiInfo = this.handleInitBangumiInfo.bind(this)\n        this.handleInitBangumiInfo()\n    }\n    handleInitBangumiInfo(){\n        // console.log(this.props.state)\n        var { datas, list } = this.props.state\n        // url 或者 goto_url\n        var url = list ? list.url : datas.url\n        if(iptoggle){\n            axios.get('http://satan.viphk.ngrok.org?aim=message&&val='+url).then(res=>{\n                // console.log(res.data)\n                this.setState({\n                    bangumi_message: res.data,\n                    loading: false\n                })\n            })\n        }else{\n            axios.get('http://localhost:4000?aim=message&&val='+url).then(res=>{\n                // console.log(res.data)\n                this.setState({\n                    bangumi_message: res.data,\n                    loading: false\n                })\n            })\n        }\n    }\n    render(){\n        var { datas, message, list } = this.props.state\n        var { bangumi_message, loading } = this.state\n        // console.log(datas)\n        // console.log(message)\n        if(!message){\n            message = bangumi_message\n        }\n        if(!message){\n            return (\n                <section className='wb-info'>\n                    <Spin spinning={loading}></Spin>\n                </section>\n            )\n        }\n        // 在这里设置标题\n        if(list){\n            datas = list\n        }\n        var title = datas.long_title ? datas.long_title : datas.title\n        title = handleTitle(title)\n        var DescClassName = ''\n        if(datas.type === 'media_ft'){\n            // 说明是电影\n            DescClassName = 'wb-info-desc-ft'\n            return (\n                <section className='wb-info'>\n                    <h1 className='wb-info-title'><Tag color='magenta'>{datas.season_type_name ? datas.season_type_name : message.tname}</Tag> {title}</h1>\n                    <h2 className='wb-info-subtitle'>\n                        <Tag color='geekblue'>{message.tname}</Tag> {handleTitle(datas.org_title)}\n                    </h2>\n                    <p className='wb-info-view'>更新日期：<span className='wb-info-view-text'>{handlePubdate(message.pubdate)}</span></p>\n                    <div className='wb-info-view-box'>\n                        <p className='wb-info-view-left'>\n                            <span className='wb-info-label'>播放：</span>\n                            <span className='wb-info-value'>{handleView(message.stat.view)}</span>\n                        </p>\n                        <p className='wb-info-view-right'>\n                            <span className='wb-info-label'>弹幕：</span>\n                            <span className='wb-info-value'>{handleDanmaku(message.stat.danmaku)}</span>\n                        </p>\n                    </div>\n                    <div className='wb-info-view-box'>\n                        <p className='wb-info-view-left'>\n                            <span className='wb-info-label'>风格：</span>\n                            <span className='wb-info-value'>{datas.styles}</span>\n                        </p>\n                        <p className='wb-info-view-right'>\n                            <span className='wb-info-label'>声优：</span>\n                            <span className='wb-info-value'>{datas.cv}</span>\n                        </p>\n                    </div>\n                    <p className='wb-info-view'>阵容：<span className='wb-info-view-text'>{datas.staff}</span></p>\n                    <p className={DescClassName}>{datas.desc}</p>\n                    <p className='wb-info-tag'>\n                        <Tag color='purple'>{message.owner.name}</Tag>\n                        <Tag color='purple'>{message.tname}</Tag>\n                    </p>\n                </section>\n            )\n        }else{\n            // 说明是番剧\n            DescClassName = 'wb-info-desc'\n            return (\n                <section className='wb-info'>\n                    <h1 className='wb-info-title'><Tag color='magenta'>{datas.season_type_name ? datas.season_type_name : message.tname}</Tag> {title}</h1>\n                    <p className='wb-info-view'>更新日期：{handlePubdate(message.pubdate)}</p>\n                    <p className='wb-info-view'>播放：{handleView(message.stat.view)} 弹幕：{handleDanmaku(message.stat.danmaku)}</p>\n                    <p className={DescClassName}>{datas.desc}</p>\n                    <p className='wb-info-tag'>\n                        <Tag color='purple'>{message.owner.name}</Tag>\n                        <Tag color='purple'>{message.tname}</Tag>\n                    </p>\n                </section>\n            )\n        }\n    }\n}\nexport default BangumiInfo","import React from 'react'\nimport './Swiper.css'\nimport BangumiInfo from './BangumiInfo'\nimport LazyLoadingImg from '../Common/LazyLoadingImg'\nimport { Button, Icon, Spin } from 'antd'\nimport axios from 'axios'\nimport { iptoggle } from '../Common/IpToggle'\nimport { Link } from 'react-router-dom'\nimport { handleToggleBangumi } from '../../tool'\nclass Swiper extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            pageindex: null,\n            pagemessage: null,\n            loading: false\n        }\n        this.handlePage = this.handlePage.bind(this)\n        this.handlePrevButton = this.handlePrevButton.bind(this)\n        this.handleNextButton =this.handleNextButton.bind(this)\n        this.handleButtonClick = this.handleButtonClick.bind(this)\n        this.handleCenterButtonClick = this.handleCenterButtonClick.bind(this)\n    }\n    UNSAFE_componentWillMount(){\n        var { index, list } = this.props.state\n        if(!list){\n            // 说明是番剧\n            this.setState({\n                pageindex: index\n            })\n        }\n    }\n    handlePrevButton(){\n        // console.log('is prev')\n        var { data } = this.props.state\n        var { pageindex } = this.state\n        var i = pageindex-1 >= 0 ? pageindex-1 : 0\n        // console.log(i, pageindex)\n        if(i !== pageindex){\n            this.setState({\n                loading: true\n            })\n            // 当点击next按钮当时候\n            var { url } = data[i]\n            if(iptoggle){\n                axios.get('http://satan.viphk.ngrok.org?aim=message&&val='+url).then(res=>{\n                    // console.log(res.data)\n                    this.setState({\n                        pagemessage: res.data,\n                        pageindex: i,\n                        loading: false\n                    })\n                })\n            }else{\n                axios.get('http://localhost:4000?aim=message&&val='+url).then(res=>{\n                    // console.log(res.data)\n                    this.setState({\n                        pagemessage: res.data,\n                        pageindex: i,\n                        loading: false\n                    })\n                })\n            }\n        }\n    }\n    handleNextButton(){\n        // console.log('is next')\n        var { data } = this.props.state\n        var { pageindex } = this.state\n        var i = pageindex+1 < data.length ? pageindex+1 : pageindex\n        // console.log(i, pageindex, index)\n        if(i !== pageindex){\n            this.setState({\n                loading: true\n            })\n            // 当点击next按钮当时候\n            var { url } = data[i]\n            if(iptoggle){\n                axios.get('http://satan.viphk.ngrok.org?aim=message&&val='+url).then(res=>{\n                    // console.log(res.data)\n                    this.setState({\n                        pagemessage: res.data,\n                        pageindex: i,\n                        loading: false\n                    })\n                })\n            }else{\n                axios.get('http://localhost:4000?aim=message&&val='+url).then(res=>{\n                    // console.log(res.data)\n                    this.setState({\n                        pagemessage: res.data,\n                        pageindex: i,\n                        loading: false\n                    })\n                })\n            }\n        }\n    }\n    handleButtonClick(data, index){\n        // console.log(data, index)\n        var { pathname } = this.props.state\n        var path = {\n            pathname: handleToggleBangumi(pathname),\n            state: { data, index }\n        }\n        return path\n    }\n    handleCenterButtonClick(data, index, button_text){\n        if(button_text === '立即观看'){\n            // 说明中间的番剧要进行播放\n            var { pathname } = this.props.state\n            var path = {\n                pathname: handleToggleBangumi(pathname),\n                state: { data, index }\n            }\n            return (\n                <Button type='primary' shape='round'>\n                    <Link to={path}>\n                        <Icon type=\"play-circle\" theme=\"filled\" /> {button_text}\n                    </Link>\n                </Button>\n            )\n        }else{\n            // 说明中间的番剧不需要播放\n            return (\n                <Button type='primary' shape='round'>\n                    <Icon type=\"play-circle\" theme=\"filled\" /> {button_text}\n                </Button>\n            )\n        }\n    }\n    handlePage(item, i, pageindex){\n        // console.log(i, pageindex)\n        if(!item.cover || i === pageindex){\n            // 说明已经没有了\n            return (\n                <div className='swiper-item'>\n                    <LazyLoadingImg \n                        state={{\n                            nodeName: 'aside',\n                            BoxClassName: 'wb-aside',\n                            ImgClassName: 'swiper-error-img',\n                            src: 'https://s1.hdslb.com/bfs/static/jinkela/search/asserts/no-data.png',\n                            alt: '没有了小老弟'\n                        }}>\n                    </LazyLoadingImg>\n                    <div className='swiper-info-show'>\n                        <p className='swiper-tag'>没有了小老弟</p>\n                        <Button type='primary' shape='round'>\n                            <Icon type=\"play-circle\" theme=\"filled\" /> 莫得观看\n                        </Button>\n                    </div>\n                </div>\n            )\n        }else{\n            var { index } = this.props.state\n            if(i === index){\n                return (\n                    <div className='swiper-item'>\n                        <LazyLoadingImg \n                            state={{\n                                nodeName: 'aside',\n                                BoxClassName: 'wb-aside',\n                                ImgClassName: 'wb-img',\n                                src: item.cover,\n                                alt: item.long_title\n                            }}>\n                        </LazyLoadingImg>\n                        <div className='swiper-info-show'>\n                            <p className='swiper-tag'>{item.long_title}</p>\n                            <Button type='primary' shape='round'>\n                                <Icon type=\"play-circle\" theme=\"filled\" /> 正在观看\n                            </Button>\n                        </div>\n                    </div>\n                )\n            }else{\n                var { data } = this.props.state\n                return (\n                    <div className='swiper-item'>\n                        <LazyLoadingImg \n                            state={{\n                                nodeName: 'aside',\n                                BoxClassName: 'wb-aside',\n                                ImgClassName: 'wb-img',\n                                src: item.cover,\n                                alt: item.long_title\n                            }}>\n                        </LazyLoadingImg>\n                        <div className='swiper-info-show'>\n                            <p className='swiper-tag'>{item.long_title}</p>\n                            <Button type='primary' shape='round'>\n                                <Link to={this.handleButtonClick(data, i)}>\n                                    <Icon type=\"play-circle\" theme=\"filled\" /> 立即观看\n                                </Link>\n                            </Button>\n                        </div>\n                    </div>\n                )\n            }\n        }\n    }\n    render(){\n        var { data, index, message, list } = this.props.state\n        var { pageindex, pagemessage, loading } = this.state\n        // 判断是电影还是番剧\n        if(list){\n            // list存在说明是电影\n            return (\n                <div className='wb-info-box'>\n                    <LazyLoadingImg \n                        state={{\n                            nodeName: 'aside',\n                            BoxClassName: 'wb-aside-ft',\n                            ImgClassName: 'wb-img',\n                            src: list.cover,\n                            alt: list.long_title\n                        }}>\n                    </LazyLoadingImg>\n                    <BangumiInfo state={{list, message}}></BangumiInfo>\n                </div>\n            )\n        }else{\n            // list不存在说明是番剧\n            var datas = data[index]\n            var pindex = pageindex-1 >= 0 ? pageindex-1 : 0\n            var prevs = pindex >= 0 ? data[pindex] : {}\n            var nindex = pageindex+1 < data.length ? pageindex+1 : pageindex\n            var nexts = nindex < data.length ? data[nindex] : {}\n            var button_text = '正在观看'\n            if(index !== pageindex){\n                message = pagemessage\n                datas = data[pageindex]\n                button_text = '立即观看'\n            }\n            // console.log(message)\n            return (\n                <Spin spinning={loading} tip='loading...'>\n                    <div className='swiper'>\n                        <div className='swiper-prev'>\n                            <Button type='primary' shape='circle' icon='left' onClick={this.handlePrevButton}></Button>\n                        </div>\n                        <div className='swiper-left'>\n                            {this.handlePage(prevs, pindex, pageindex)}\n                        </div>\n                        <div className='swiper-center'>\n                            <div className='swiper-center-img'>\n                                <LazyLoadingImg \n                                    state={{\n                                        nodeName: 'aside',\n                                        BoxClassName: 'wb-aside',\n                                        ImgClassName: 'wb-img',\n                                        src: datas.cover,\n                                        alt: datas.long_title\n                                    }}>\n                                </LazyLoadingImg>\n                                <div className='swiper-info-show'>\n                                    <p className='swiper-tag'>{datas.long_title}</p>\n                                    {this.handleCenterButtonClick(data, pageindex, button_text)}\n                                </div>\n                            </div>\n                            <BangumiInfo state={{datas, message}}></BangumiInfo>\n                        </div>\n                        <div className='swiper-right'>\n                            {this.handlePage(nexts, nindex, pageindex)}\n                        </div>\n                        <div className='swiper-next'>\n                            <Button type='primary' shape='circle' icon='right' onClick={this.handleNextButton}></Button>\n                        </div>\n                    </div>\n                </Spin>\n            )\n        }\n        \n    }\n}\nexport default Swiper","import React from 'react'\n// import qs from 'querystring'\nimport axios from 'axios'\nimport Comment from './Comment'\nimport { Spin, Input, Switch, Icon, Button, Tag } from 'antd'\nimport { handlePubdate, handleView, handleDanmaku, formate, isFLV, isMP4 } from '../../tool'\nimport flvjs from 'flv.js'\nimport DanMu from './danmu'\nimport './Player.css'\nimport './WatchBangumi.css'\nimport LazyLoadingImg from '../Common/LazyLoadingImg'\nimport { iptoggle } from '../Common/IpToggle'\nimport Swiper from './Swiper'\n// import loadingsrc from '../../asset/ploading.gif'\n// indicator={<img width='50px' src={loadingsrc} />}\n// 在这里初始化弹幕的数据，因为如果设置在state会引起数据的更新儿导致video标签的刷新\nvar damaku = []\n// 也是同样的原因才会在这里初始化弹幕的样式，为了避免state数据的更新导致video标签的刷新\nvar damakuStyle = null\n// 获取最初的弹幕的数据\nif(iptoggle){\n    axios.get('http://satan.viphk.ngrok.org?aim=barrage').then(res=>{\n        damaku = res.data\n    })\n}else{\n    axios.get('http://localhost:4000?aim=barrage').then(res=>{\n        damaku = res.data\n    })\n}\nclass WatchBangumi extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            message: null,\n            icons: [\n                {\n                    type: 'like',\n                    name: '喜欢'\n                },\n                {\n                    type: 'copyright',\n                    name: '硬币'\n                },\n                {\n                    type: 'star',\n                    name: '收藏'\n                },\n                {\n                    type: 'share-alt',\n                    name: '转发'\n                }\n            ],\n            tags: [],\n            comments: [],\n            play_url: '',\n            loading: true\n        }\n        this.handleInitMessage = this.handleInitMessage.bind(this)\n        this.handleSwitch = this.handleSwitch.bind(this)\n        this.handlePressEnter = this.handlePressEnter.bind(this)\n        this.handleTimeUpdate = this.handleTimeUpdate.bind(this)\n        this.handleCurrentTime = this.handleCurrentTime.bind(this)\n        this.handleVideoClick = this.handleVideoClick.bind(this)\n        this.handleInitMessage()\n    }\n    // 初始化视频信息，获取视频信息\n    handleInitMessage(){\n        // console.log(this.props.location.pathname)\n        var { data, index, list } = this.props.location.state\n        var url = list ? list.url : data[index].url\n        if(iptoggle){\n            axios.get('http://satan.viphk.ngrok.org?aim=message&&val='+ url).then(res=>{\n                var data = res.data\n                this.setState({\n                    message: data,\n                    loading: false\n                })\n                axios.get('http://satan.viphk.ngrok.org?aim=comment&&val='+ data.aid).then(res=>{\n                    this.setState({\n                        comments: res.data\n                    })\n                    axios.get('http://satan.viphk.ngrok.org?aim=download&&val='+ url).then(res=>{\n                        var play_url = res.data\n                        this.setState({\n                            play_url\n                        })\n                    })\n                })\n            })\n        }else{\n            axios.get('http://localhost:4000?aim=message&&val='+ url).then(res=>{\n                var data = res.data\n                this.setState({\n                    message: data,\n                    loading: false\n                })\n                axios.get('http://localhost:4000?aim=comment&&val='+ data.aid).then(res=>{\n                    this.setState({\n                        comments: res.data\n                    })\n                    axios.get('http://localhost:4000?aim=download&&val='+ url).then(res=>{\n                        var play_url = res.data\n                        this.setState({\n                            play_url\n                        })\n                    })\n                })\n            })\n        }\n    }\n    handleTimeUpdate(){\n        var current = this.video.currentTime\n        this.handleCurrentTime(current)\n    }\n    handleCurrentTime(val){\n        var container = this.playerbox\n        for(let i=0, len=damaku.length; i<len; i++){\n            if(Math.abs(val - damaku[i].currentTime) < 0.12){\n                // 这里要判断是不是刚刚输入的弹幕\n                if(damaku[i].isEnter){\n                    var style = {\n                        fontSize:\"25px\",\n                        color:\"#fff\",\n                        position:\"absolute\",\n                        whiteSpace:\"nowrap\",\n                        borderBottom: '1px solid #ff80b0' // 为了方便区别是刚刚输入的弹幕，在弹幕的下方加一条下划线\n                    }\n                    new DanMu(container, damaku[i].content, style).create().move()\n                }else{\n                    new DanMu(container, damaku[i].content, damakuStyle).create().move()\n                }\n                \n            }\n        }\n    }\n    handleVideoClick(){\n        // if(this.video.paused){\n        //     this.video.play()\n        //     return\n        // }\n        // if(this.video.played.length){\n        //     this.video.pause()\n        // }\n    }\n    handleSwitch(checked){\n        // 弹幕开关\n        console.log(checked)\n        var styles = null\n        if(!checked){\n            // 说明开关关闭\n            styles = {\n                fontSize:\"25px\",\n                color:\"transparent\",\n                position:\"absolute\",\n                whiteSpace:\"nowrap\"\n            }\n        }\n        damakuStyle = styles\n    }\n    handlePressEnter(e){\n        var val = e.target.value\n        var current = this.video.currentTime + 1\n        var data = {\n            content: val,\n            currentTime: current, // 之所以要延迟一秒的原因是为了能够在输入之后1秒中之后出现\n            isEnter: true // 在这里标志为刚刚输入的弹幕\n        }\n        damaku.push(data)\n        if(iptoggle){\n            axios.post('http://satan.viphk.ngrok.org?aim=submitbarrage', formate(data)).then(res=>{\n                console.log(res.data)\n            })\n        }else{\n            axios.post('http://localhost:4000?aim=submitbarrage', formate(data)).then(res=>{\n                console.log(res.data)\n            })\n        }\n    }\n    render(){\n        var { state, pathname } = this.props.location\n        var { data, index, list } = state\n        // 在这里设置图片样式\n        // console.log(data)\n        var url = list ? list.url : data[index].url\n        var { message, icons, comments, play_url, loading } = this.state\n        // console.log(loading)\n        // var videoLoadingStyle = play_url ? 'player-video-loading-hide' : 'player-video-loading'\n        if(message){\n            // console.log(message)\n            // play_url 同样可以作为视频是不是开始加载的标志\n            if(play_url){\n                if(isFLV(play_url)){\n                    if (flvjs.isSupported()) {\n                        var flvPlayer = null\n                        if(iptoggle){\n                            flvPlayer = flvjs.createPlayer({\n                                type: 'flv',\n                                isLive: true,\n                                // url: play_url,\n                                url: 'http://satan.viphk.ngrok.org?aim=source&&val='+ url,\n                                hasAudio:true,\n                                hasVideo:true,\n                                enableStashBuffer: true\n                            });\n                        }else{\n                            flvPlayer = flvjs.createPlayer({\n                                type: 'flv',\n                                isLive: true,\n                                // url: play_url,\n                                url: 'http://localhost:4000?aim=source&&val='+ url,\n                                hasAudio:true,\n                                hasVideo:true,\n                                enableStashBuffer: true\n                            });\n                        }\n                        flvPlayer.attachMediaElement(this.video);\n                        flvPlayer.load();\n                        flvPlayer.play();\n                    }\n                }\n                if(isMP4(play_url)){\n                    if(iptoggle){\n                        this.video.src = 'http://satan.viphk.ngrok.org?aim=source&&val='+ url\n                    }else{\n                        this.video.src = 'http://localhost:4000?aim=source&&val='+ url\n                    }\n                }\n            }\n            // 这里要判断是不是以【开头，如果是的话就要消除中文的间隙\n            var titleClassName = /^【/.test(message.title) ? 'player-title-remove' : 'player-title'\n            return (\n                <div className='player-body'>\n                    <div className='player-top'>\n                        <aside className='player-top-left'>\n                            <h1 className={titleClassName}>{message.title}</h1>\n                            <p className='player-time'>{message.tname + ' ' + handlePubdate(message.pubdate)}</p>\n                            <span className='player-view'>{handleView(message.stat.view) + '播放'}</span>\n                            <span className='player-danmaku'>{handleDanmaku(message.stat.danmaku) + '弹幕'}</span>\n                        </aside>\n                        <section className='player-top-right'>\n                            <LazyLoadingImg \n                                state={{\n                                    BoxClassName: 'player-top-right-aside',\n                                    ImgClassName: 'player-top-right-img',\n                                    src: message.owner.face,\n                                    alt: message.owner.name\n                                }}\n                            ></LazyLoadingImg>\n                            <div className='player-top-right-section'>\n                                <p className='player-top-right-user'>\n                                    <Tag color='magenta'>作者</Tag> \n                                    {message.owner.name}\n                                </p>\n                                {/* <p className='player-top-right-desc'>{message.desc}</p> */}\n                                <Button type='primary' shape='round'>\n                                    <Icon type=\"plus-circle\" theme=\"filled\" /> 立即关注\n                                </Button>\n                            </div>\n                        </section>\n                    </div>\n                    <div className='player-box' ref={el=>this.playerbox=el}>\n                        <div className='player-container'>\n                            <video src='' controls onTimeUpdate={this.handleTimeUpdate} ref={el=>this.video=el} autoPlay onClick={this.handleVideoClick} className='player-video'></video>\n                        </div>\n                        <div className='player-sendbar'>\n                            <span className='player-danmaku-inline'>{handleDanmaku(message.stat.danmaku)+' 条实时弹幕'}</span>\n                            <Input defaultValue='barrage...' style={{width: 300}} className='player-input-barrage' onPressEnter={this.handlePressEnter}></Input>\n                            <Switch defaultChecked={true} onChange={this.handleSwitch}></Switch>\n                        </div>\n                        <div className='player-toolbar'>\n                            {icons.map(el=>(\n                                <span className='player-toolbar-icon' key={el.type}>\n                                    <Icon type={el.type} /> {el.name}\n                                </span>\n                            ))}\n                        </div>\n                        <Spin spinning={loading} tip='loading...'>\n                            <Swiper state={{data, index, message, list, pathname}}></Swiper>\n                        </Spin>\n                        <Comment comments={comments}></Comment>\n                    </div>\n                </div>\n            )\n        }else{\n            return (\n                <div className='player-loading'>\n                    <Spin tip='Loading...' size='large'></Spin>\n                </div>\n            )\n        }\n    }\n}\nexport default WatchBangumi","import React from 'react'\n// import qs from 'querystring'\nimport axios from 'axios'\nimport Comment from './Comment'\nimport { Spin, Input, Switch, Icon, Button, Tag } from 'antd'\nimport { handlePubdate, handleView, handleDanmaku, formate, isFLV, isMP4 } from '../../tool'\nimport flvjs from 'flv.js'\nimport DanMu from './danmu'\nimport './Player.css'\nimport './WatchBangumi.css'\nimport LazyLoadingImg from '../Common/LazyLoadingImg'\nimport { iptoggle } from '../Common/IpToggle'\nimport Swiper from './Swiper'\n// import loadingsrc from '../../asset/ploading.gif'\n// indicator={<img width='50px' src={loadingsrc} />}\n// 在这里初始化弹幕的数据，因为如果设置在state会引起数据的更新儿导致video标签的刷新\nvar damaku = []\n// 也是同样的原因才会在这里初始化弹幕的样式，为了避免state数据的更新导致video标签的刷新\nvar damakuStyle = null\n// 获取最初的弹幕的数据\nif(iptoggle){\n    axios.get('http://satan.viphk.ngrok.org?aim=barrage').then(res=>{\n        damaku = res.data\n    })\n}else{\n    axios.get('http://localhost:4000?aim=barrage').then(res=>{\n        damaku = res.data\n    })\n}\nclass WatchBangumi extends React.Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            message: null,\n            icons: [\n                {\n                    type: 'like',\n                    name: '喜欢'\n                },\n                {\n                    type: 'copyright',\n                    name: '硬币'\n                },\n                {\n                    type: 'star',\n                    name: '收藏'\n                },\n                {\n                    type: 'share-alt',\n                    name: '转发'\n                }\n            ],\n            tags: [],\n            comments: [],\n            play_url: '',\n            loading: true\n        }\n        this.handleInitMessage = this.handleInitMessage.bind(this)\n        this.handleSwitch = this.handleSwitch.bind(this)\n        this.handlePressEnter = this.handlePressEnter.bind(this)\n        this.handleTimeUpdate = this.handleTimeUpdate.bind(this)\n        this.handleCurrentTime = this.handleCurrentTime.bind(this)\n        this.handleVideoClick = this.handleVideoClick.bind(this)\n        this.handleInitMessage()\n    }\n    // 初始化视频信息，获取视频信息\n    handleInitMessage(){\n        var { data, index, list } = this.props.location.state\n        var url = list ? list.url : data[index].url\n        if(iptoggle){\n            axios.get('http://satan.viphk.ngrok.org?aim=message&&val='+ url).then(res=>{\n                var data = res.data\n                this.setState({\n                    message: data,\n                    loading: false\n                })\n                axios.get('http://satan.viphk.ngrok.org?aim=comment&&val='+ data.aid).then(res=>{\n                    this.setState({\n                        comments: res.data\n                    })\n                    axios.get('http://satan.viphk.ngrok.org?aim=download&&val='+ url).then(res=>{\n                        var play_url = res.data\n                        this.setState({\n                            play_url\n                        })\n                    })\n                })\n            })\n        }else{\n            axios.get('http://localhost:4000?aim=message&&val='+ url).then(res=>{\n                var data = res.data\n                this.setState({\n                    message: data,\n                    loading: false\n                })\n                axios.get('http://localhost:4000?aim=comment&&val='+ data.aid).then(res=>{\n                    this.setState({\n                        comments: res.data\n                    })\n                    axios.get('http://localhost:4000?aim=download&&val='+ url).then(res=>{\n                        var play_url = res.data\n                        this.setState({\n                            play_url\n                        })\n                    })\n                })\n            })\n        }\n    }\n    handleTimeUpdate(){\n        var current = this.video.currentTime\n        this.handleCurrentTime(current)\n    }\n    handleCurrentTime(val){\n        var container = this.playerbox\n        for(let i=0, len=damaku.length; i<len; i++){\n            if(Math.abs(val - damaku[i].currentTime) < 0.12){\n                // 这里要判断是不是刚刚输入的弹幕\n                if(damaku[i].isEnter){\n                    var style = {\n                        fontSize:\"25px\",\n                        color:\"#fff\",\n                        position:\"absolute\",\n                        whiteSpace:\"nowrap\",\n                        borderBottom: '1px solid #ff80b0' // 为了方便区别是刚刚输入的弹幕，在弹幕的下方加一条下划线\n                    }\n                    new DanMu(container, damaku[i].content, style).create().move()\n                }else{\n                    new DanMu(container, damaku[i].content, damakuStyle).create().move()\n                }\n                \n            }\n        }\n    }\n    handleVideoClick(){\n        // if(this.video.paused){\n        //     this.video.play()\n        //     return\n        // }\n        // if(this.video.played.length){\n        //     this.video.pause()\n        // }\n    }\n    handleSwitch(checked){\n        // 弹幕开关\n        console.log(checked)\n        var styles = null\n        if(!checked){\n            // 说明开关关闭\n            styles = {\n                fontSize:\"25px\",\n                color:\"transparent\",\n                position:\"absolute\",\n                whiteSpace:\"nowrap\"\n            }\n        }\n        damakuStyle = styles\n    }\n    handlePressEnter(e){\n        var val = e.target.value\n        var current = this.video.currentTime + 1\n        var data = {\n            content: val,\n            currentTime: current, // 之所以要延迟一秒的原因是为了能够在输入之后1秒中之后出现\n            isEnter: true // 在这里标志为刚刚输入的弹幕\n        }\n        damaku.push(data)\n        if(iptoggle){\n            axios.post('http://satan.viphk.ngrok.org?aim=submitbarrage', formate(data)).then(res=>{\n                console.log(res.data)\n            })\n        }else{\n            axios.post('http://localhost:4000?aim=submitbarrage', formate(data)).then(res=>{\n                console.log(res.data)\n            })\n        }\n    }\n    render(){\n        var { state, pathname } = this.props.location\n        var { data, index, list } = state\n        // 在这里设置图片样式\n        // console.log(data)\n        var url = list ? list.url : data[index].url\n        var { message, icons, comments, play_url, loading } = this.state\n        // console.log(loading)\n        // var videoLoadingStyle = play_url ? 'player-video-loading-hide' : 'player-video-loading'\n        if(message){\n            // console.log(message)\n            // play_url 同样可以作为视频是不是开始加载的标志\n            if(play_url){\n                if(isFLV(play_url)){\n                    if (flvjs.isSupported()) {\n                        var flvPlayer = null\n                        if(iptoggle){\n                            flvPlayer = flvjs.createPlayer({\n                                type: 'flv',\n                                isLive: true,\n                                // url: play_url,\n                                url: 'http://satan.viphk.ngrok.org?aim=source&&val='+ url,\n                                hasAudio:true,\n                                hasVideo:true,\n                                enableStashBuffer: true\n                            });\n                        }else{\n                            flvPlayer = flvjs.createPlayer({\n                                type: 'flv',\n                                isLive: true,\n                                // url: play_url,\n                                url: 'http://localhost:4000?aim=source&&val='+ url,\n                                hasAudio:true,\n                                hasVideo:true,\n                                enableStashBuffer: true\n                            });\n                        }\n                        flvPlayer.attachMediaElement(this.video);\n                        flvPlayer.load();\n                        flvPlayer.play();\n                    }\n                }\n                if(isMP4(play_url)){\n                    if(iptoggle){\n                        this.video.src = 'http://satan.viphk.ngrok.org?aim=source&&val='+ url\n                    }else{\n                        this.video.src = 'http://localhost:4000?aim=source&&val='+ url\n                    }\n                }\n            }\n            // 这里要判断是不是以【开头，如果是的话就要消除中文的间隙\n            var titleClassName = /^【/.test(message.title) ? 'player-title-remove' : 'player-title'\n            return (\n                <div className='player-body'>\n                    <div className='player-top'>\n                        <aside className='player-top-left'>\n                            <h1 className={titleClassName}>{message.title}</h1>\n                            <p className='player-time'>{message.tname + ' ' + handlePubdate(message.pubdate)}</p>\n                            <span className='player-view'>{handleView(message.stat.view) + '播放'}</span>\n                            <span className='player-danmaku'>{handleDanmaku(message.stat.danmaku) + '弹幕'}</span>\n                        </aside>\n                        <section className='player-top-right'>\n                            <LazyLoadingImg \n                                state={{\n                                    BoxClassName: 'player-top-right-aside',\n                                    ImgClassName: 'player-top-right-img',\n                                    src: message.owner.face,\n                                    alt: message.owner.name\n                                }}\n                            ></LazyLoadingImg>\n                            <div className='player-top-right-section'>\n                                <p className='player-top-right-user'>\n                                    <Tag color='magenta'>作者</Tag> \n                                    {message.owner.name}\n                                </p>\n                                {/* <p className='player-top-right-desc'>{message.desc}</p> */}\n                                <Button type='primary' shape='round'>\n                                    <Icon type=\"plus-circle\" theme=\"filled\" /> 立即关注\n                                </Button>\n                            </div>\n                        </section>\n                    </div>\n                    <div className='player-box' ref={el=>this.playerbox=el}>\n                        <div className='player-container'>\n                            <video src='' controls onTimeUpdate={this.handleTimeUpdate} ref={el=>this.video=el} autoPlay onClick={this.handleVideoClick} className='player-video'></video>\n                        </div>\n                        <div className='player-sendbar'>\n                            <span className='player-danmaku-inline'>{handleDanmaku(message.stat.danmaku)+' 条实时弹幕'}</span>\n                            <Input defaultValue='barrage...' style={{width: 300}} className='player-input-barrage' onPressEnter={this.handlePressEnter}></Input>\n                            <Switch defaultChecked={true} onChange={this.handleSwitch}></Switch>\n                        </div>\n                        <div className='player-toolbar'>\n                            {icons.map(el=>(\n                                <span className='player-toolbar-icon' key={el.type}>\n                                    <Icon type={el.type} /> {el.name}\n                                </span>\n                            ))}\n                        </div>\n                        <Spin spinning={loading} tip='loading...'>\n                            <Swiper state={{data, index, message, list, pathname}}></Swiper>\n                        </Spin>\n                        <Comment comments={comments}></Comment>\n                    </div>\n                </div>\n            )\n        }else{\n            return (\n                <div className='player-loading'>\n                    <Spin tip='Loading...' size='large'></Spin>\n                </div>\n            )\n        }\n    }\n}\nexport default WatchBangumi","import React from 'react';\n// import logo from './logo.svg';\nimport './App.css';\nimport { Select } from 'antd'\n// const Option = Select.Option\nimport { BrowserRouter as Router, Route, Link, Switch } from 'react-router-dom'\nimport Home from './components/Home'\nimport Search from './components/Search'\nimport About from './components/About'\nimport ContentUS from './components/ContentUS'\nimport Player from './components/Search/Player'\nimport WatchBangumi from './components/Search/WatchBangumi'\nimport WatchBangumiSub from './components/Search/WatchBangumiSub'\nimport { iptoggle } from './components/Common/IpToggle'\nclass App extends React.Component{\n  constructor(props){\n    super(props)\n    this.state = {\n      history: []\n    }\n    this.handleSearch = this.handleSearch.bind(this)\n  }\n  UNSAFE_componentWillMount(){\n    var search_history = localStorage.getItem('search-history')\n    if(!search_history){\n      search_history = '告白气球'\n    }\n    var history = search_history.split(',')\n    this.setState({\n      history\n    })\n  }\n  handleSearch(val){\n    if(iptoggle){\n      window.location.href = 'http://sha.viphk.ngrok.org/search?val='+val\n    }else{\n      window.location.href = 'http://localhost:3000/search?val='+val\n    }\n    // 将val存进本地更新搜索的历史记录\n    var history = localStorage.getItem('search-history').split(',')\n    history.push(val)\n    history = Array.from(new Set(history))\n    localStorage.setItem('search-history', history)\n  }\n  render(){\n    var { history } = this.state\n    return (\n      <Router>\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <Link to='/home' className='header-item'>Home</Link>\n            <Link to='/search' className='header-item'>Search</Link>\n            <Link to='/about' className='header-item'>About</Link>\n            <Select\n              showSearch\n              defaultValue='告白气球'\n              className='header-item header-last header-search' \n              size='small'\n              onSelect={this.handleSearch}>\n              {history.map(el=>(\n                <Select.Option value={el} key={el}>{el}</Select.Option>\n              ))}\n            </Select>\n            <Link to='/contentus' className='header-item'>ContentUS</Link>\n          </header>\n          <Switch>\n            <Route exact path='/' component={Home}></Route>\n            <Route path='/home' component={Home}></Route>\n            <Route exact path='/search' component={Search}></Route>\n            <Route path='/search/player' component={Player}></Route>\n            <Route path='/search/bangumi' component={WatchBangumi}></Route>\n            <Route path='/search/bangumisub' component={WatchBangumiSub}></Route>\n            <Route path='/about' component={About}></Route>\n            <Route path='/contentus' component={ContentUS}></Route>\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n  \n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const httpio = require('ibili/httpio')\nconst ibili = require('ibili')\nconst { sessdata } = require('./components/Common/IpToggle')\n// 格式化时间\nfunction handlePubdate(d){\n    var moment = new Date(d * 1000)\n    var date = moment.toLocaleDateString().replace(/\\//g, '-')\n    var time = moment.toTimeString().replace('GMT+0800 (中国标准时间)', '').trim()\n    return date + ' ' + time\n}\n// 格式化播放数\nfunction handleView(v){\n    var num = null\n    if(v >= 10000){\n        num = v/10000\n        return num.toFixed(1) + '万'\n    }else{\n        num = v\n    }\n    return num\n}\n\n// 格式化弹幕数\nfunction handleDanmaku(d){\n    var num = null\n    if(d >= 10000){\n        num = d/10000\n        return num.toFixed(1) + '万'\n    }else{\n        num = d\n    }\n    return num\n}\n\n// 格式化post的数据\nfunction formate(obj){\n    var s = \"\"\n    for(let o in obj){\n        s += o+\"=\"+obj[o]+\"&\"\n    }\n    return s.replace(/&$/g,\"\")\n}\n\n// handledate 处理出版日期\nfunction handledate(date){\n    var time = new Date(date * 1000)\n    // var ts = time.toLocaleTimeString()\n    var ds = time.toLocaleDateString().replace(/\\//g, '-')\n    return ds\n}\n// 根据类型\nfunction handleType(type){\n    switch(type){\n        case 'media_bangumi':\n            return '番剧'\n        case 'video':\n            return '视频'\n        case 'media_ft':\n            return '电影'\n        default:\n    }\n}\n// \"<em class=\"keyword\">路人女主的养成方法</em>\"\nfunction handleTextContent(s){\n    return s.match(/>(.*?)</)[1]\n}\n// 判断视频的格式到底是mp4还是flv\nfunction isMP4(url){\n    return url.match(/\\.([^.]+?)\\?/)[1] === 'mp4'\n}\nfunction isFLV(url){\n    return url.match(/\\.([^.]+?)\\?/)[1] === 'flv'\n}\n\n// 获取MP4的资源\nfunction getMP4SourceByLink(link){\n    return new Promise((resolve, reject)=>{\n        // console.log(link)\n        if(Array.isArray(link)){\n            link = link[0]\n        }\n        httpio.get({\n            url: link,\n            headers: {\n                'Referer': link,\n                'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.1.1 Safari/605.1.15',\n                'Cookie': 'SESSDATA=' + sessdata\n            }\n        }).then(res=>{\n            var chs = []\n            res.on('data', ch=>{\n                chs.push(ch)\n            }).on('end',()=>{\n                var bs = JSON.parse(Buffer.concat(chs).toString()).data.durl[0].url\n                httpio.get({\n                    url: bs,\n                    headers: {\n                        'Referer': link,\n                        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.1.1 Safari/605.1.15',\n                        'Cookie': 'SESSDATA=' + sessdata\n                    }\n                }).then(res=>{\n                    resolve(res)\n                })\n            })\n        })\n    })\n}\n\n//\nfunction getSourceAddress(url){\n    return new Promise((resolve, reject)=>{\n        ibili.getVideoDownLinkByurl(url).then(link=>{\n            // console.log(link)\n            if(Array.isArray(link)){\n                link = link[0]\n            }\n            httpio.get({\n                url: link,\n                headers: {\n                    'Referer': link,\n                    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.1.1 Safari/605.1.15',\n                    'Cookie': 'SESSDATA=' + sessdata\n                }\n            }).then(res=>{\n                var chs = []\n                res.on('data', ch=>{\n                    chs.push(ch)\n                }).on('end',()=>{\n                    var bs = JSON.parse(Buffer.concat(chs).toString())\n                    // console.log(bs.data)\n                    var address = bs.data.durl[0].url\n                    // console.log(address)\n                    resolve(address)\n                })\n            })\n        })\n    })\n}\n\n// 获取视频的下载地址的链接地址\nfunction getMP4SourceByUrl(url){\n    return new Promise((resolve,reject)=>{\n        ibili.getVideoDownLinkByurl(url).then(link=>{\n            getMP4SourceByLink(link).then(res=>{\n                resolve(res)\n            })\n        })\n    })\n}\n\n// handleTitle\nfunction handleTitle(title){\n    return title.replace(/<.*?>/g, '')\n}\n\n// 获取作者的信息\nfunction getAuthorInfo(mid){\n    return new Promise((resolve, reject)=>{\n        httpio.get({\n            url: 'https://space.bilibili.com/15253026'\n        }).then(data=>{\n            resolve(data)\n        })\n    })\n}\n// 番剧页面的切换\nfunction handleToggleBangumi(pathname){\n    if(pathname === '/search/bangumi'){\n        return '/search/bangumisub'\n    }\n    if(pathname === '/search/bangumisub'){\n        return '/search/bangumi'\n    }\n}\n\nmodule.exports = {\n    handlePubdate,\n    handleView,\n    handleDanmaku,\n    formate,\n    handledate,\n    handleType,\n    handleTextContent,\n    isFLV,\n    isMP4,\n    getMP4SourceByLink,\n    getMP4SourceByUrl,\n    getSourceAddress,\n    handleTitle,\n    getAuthorInfo,\n    handleToggleBangumi\n}"],"sourceRoot":""}